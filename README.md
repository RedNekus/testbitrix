# üìä Bitrix24 Companies Fetcher

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π –∏–∑ Bitrix24 —á–µ—Ä–µ–∑ REST API —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–∏—Å–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel.

![Interface Preview](https://via.placeholder.com/900x400/f5f5f5/333333?text=Bitrix24+Companies+Fetcher+Interface)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (—Ö—É–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `.env`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 10 –º–∏–Ω—É—Ç** –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ 5 –º–∏–Ω—É—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–ª—É–¥–∞**: 1 –∑–∞–ø—Ä–æ—Å –≤ 2 —Å–µ–∫—É–Ω–¥—ã
- **–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–æ–º–ø–∞–Ω–∏–∏** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel** —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–æ–≤
- **–î–≤–∞ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**: –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
- **–ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫** Bitrix24 —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π** Bitrix24 (`.by`, `.kz`, `.ua`, `.com.tr` –∏ –¥—Ä.)

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–í–µ–±—Ö—É–∫ Bitrix24** —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `.env` (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git)
- **Rate limiting** –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç DDoS –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ Bitrix24
- **–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã** –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (–∫–ª–∏–µ–Ω—Ç –Ω–µ –≤–∏–¥–∏—Ç —Ç–æ–∫–µ–Ω)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- **–ó–∞—â–∏—Ç–∞ –æ—Ç XSS** —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω–µ

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| PHP | ^8.0 | –° —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `cURL` |
| Composer | ^2.0 | –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| Web-—Å–µ—Ä–≤–µ—Ä | Apache/Nginx –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PHP | –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `.php` |
| –ë—Ä–∞—É–∑–µ—Ä | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (Chrome, Firefox, Edge) | –° –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `localStorage` |

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/your-username/bitrix24-companies-fetcher.git
cd bitrix24-companies-fetcher
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫
```bash
cp .env.example .env
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`
–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –≤–µ–±—Ö—É–∫ Bitrix24:
```env
BITRIX24_WEBHOOK_URL="https://–≤–∞—à-–ø–æ—Ä—Ç–∞–ª.bitrix24.by/rest/123/–¢–û–ö–ï–ù/crm.company.list.json"
MAX_COMPANIES=10000
REQUEST_TIMEOUT=45
DEBUG_MODE=false
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
composer install
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
php -S localhost:8000
```

### 6. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:8000/index.php
```

## üîë –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å URL –≤–µ–±—Ö—É–∫–∞ Bitrix24

1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø–æ—Ä—Ç–∞–ª Bitrix24
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí REST API**
3. –ù–∞–∂–º–∏—Ç–µ **¬´–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –≤–µ–±—Ö—É–∫¬ª**
4. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, *¬´–í—ã–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π¬ª*)
5. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞:
   - **CRM ‚Üí –ö–æ–º–ø–∞–Ω–∏–∏ ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä**
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π URL –≤–∏–¥–∞:  
   `https://–≤–∞—à-–ø–æ—Ä—Ç–∞–ª.bitrix24.by/rest/123/–¢–û–ö–ï–ù/crm.company.list.json`
7. **–í–ê–ñ–ù–û**: –í—Å—Ç–∞–≤–ª—è–π—Ç–µ –µ–≥–æ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π `.env`, –∞ –Ω–µ –≤ `.env.example`!

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/bitrix-companies/
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ù–ï –°–û–î–ï–†–ñ–ò–¢ –°–ï–ö–†–ï–¢–û–í)
‚îú‚îÄ‚îÄ .gitignore            # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç .env, vendor/ –∏ –¥—Ä—É–≥–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ composer.json         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PHP
‚îú‚îÄ‚îÄ composer.lock         # –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ index.php             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—Ä–µ–Ω–¥–µ—Ä–∏—Ç —à–∞–±–ª–æ–Ω —á–µ—Ä–µ–∑ Twig)
‚îú‚îÄ‚îÄ api.php               # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è Bitrix24 API —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îú‚îÄ‚îÄ public/               # –ü—É–±–ª–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.css    # –°—Ç–∏–ª–∏ —Å CSS Variables
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îî‚îÄ‚îÄ app.js        # Vue.js –ª–æ–≥–∏–∫–∞
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ main.twig         # –®–∞–±–ª–æ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ `sys_get_temp_dir()/bitrix_cache/` –Ω–∞ **5 –º–∏–Ω—É—Ç**
- –ò–º—è —Ñ–∞–π–ª–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ MD5-—Ö–µ—à–∞ –≤–µ–±—Ö—É–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–ª—É–¥–∞
- **Rate limiting**: 1 –∑–∞–ø—Ä–æ—Å –≤ 2 —Å–µ–∫—É–Ω–¥—ã
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ ‚Äî –∫–æ–¥ 429 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ Bitrix24 –∑–∞ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∏ –ª–æ–∫–∞–ª–∏–∑—É–µ—Ç –æ—à–∏–±–∫–∏:
- `insufficient_scope` ‚Üí –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∞–≤
- `invalid_token` ‚Üí —Å–æ–≤–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π URL
- –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- HTTP 5xx ‚Üí —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ Bitrix24

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

–í—Å–µ —Å—Ç–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **CSS Custom Properties**. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:

```
public/css/styles.css
```

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–µ `:root`:
```css
:root {
  --primary: #007bff;        /* –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç */
  --error: #dc3545;          /* –¶–≤–µ—Ç –æ—à–∏–±–æ–∫ */
  --bg-page: #f5f5f5;        /* –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  /* ... */
}
```

## üíª –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

| –ë—Ä–∞—É–∑–µ—Ä | –°—Ç–∞—Ç—É—Å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|---------|--------|------------|
| Chrome | ‚úÖ 88+ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| Firefox | ‚úÖ 85+ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| Edge | ‚úÖ 88+ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| Safari | ‚úÖ 14.1+ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö |
| Mobile Safari | ‚úÖ 14.5+ | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### "Bitrix24 –≤–µ—Ä–Ω—É–ª –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –≤–µ–±—Ö—É–∫–∞ –≤ Bitrix24
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ CRM –µ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏
- –£–≤–µ–ª–∏—á—å—Ç–µ `REQUEST_TIMEOUT` –≤ `.env`

### "–°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã"
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
- –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### "–ù–µ —É–¥–∞—ë—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Bitrix24"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤: https://status.bitrix24.ru

### –û—à–∏–±–∫–∏ Nginx/Apache
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PHP –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `.php`-—Ñ–∞–π–ª—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ `sys_get_temp_dir()`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –≤–µ—Ä—Å–∏–∏ PHP

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT** ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

–ê–≤—Ç–æ—Ä: **RedNekus**  
–ì–æ–¥: 2025

> üí° **–í–∞–∂–Ω–æ**: –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –ª–∏—Ü–µ–Ω–∑–∏—è Bitrix24 —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ REST API.